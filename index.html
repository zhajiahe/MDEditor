<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nebula Markdown</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              notion: {
                bg: '#191919',       // Main content background
                sidebar: '#202020',  // Sidebar/Toolbar background
                hover: '#2C2C2C',    // Hover state
                active: '#373737',   // Selected/Active state
                border: '#2F2F2F',   // Borders
                text: '#E3E3E3',     // Primary text
                muted: '#9B9B9B',    // Secondary text
                item: '#262626'      // Card/Item background
              }
            },
            typography: {
              DEFAULT: {
                css: {
                  maxWidth: 'none',
                },
              },
            },
          },
        },
      }
    </script>
    <!-- KaTeX for math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <!-- html-docx-js for .docx export -->
    <script src="https://cdn.jsdelivr.net/npm/html-docx-js@0.3.1/dist/html-docx.min.js"></script>
    <style>
      /* Custom Scrollbar for a sleeker look */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent; 
      }
      ::-webkit-scrollbar-thumb {
        background: #9ca3af; 
        border-radius: 4px;
      }
      .dark ::-webkit-scrollbar-thumb {
        background: #373737; /* Notion Active Color for scrollbar */
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #6b7280; 
      }
      
      /* Page Break Styling */
      .page-break {
        page-break-after: always; /* Legacy */
        break-after: page;
        display: block;
        height: 0;
        border: none;
      }
      
      /* Visual indicator in Preview (Screen only) */
      @media screen {
        .markdown-body .page-break {
          height: auto;
          margin: 2rem 0;
          border-bottom: 2px dashed #e5e7eb; /* gray-200 */
          position: relative;
        }
        
        .dark .markdown-body .page-break {
          border-bottom-color: #2F2F2F; /* Notion Border */
        }

        .markdown-body .page-break::after {
          content: "PAGE BREAK";
          position: absolute;
          top: -10px;
          right: 0;
          background: #f3f4f6;
          color: #9ca3af;
          font-size: 10px;
          font-weight: bold;
          padding: 0 6px;
          border-radius: 4px;
        }
        
        .dark .markdown-body .page-break::after {
          background: #202020; /* Notion Sidebar */
          color: #9B9B9B; /* Notion Muted */
        }
      }

      /* Hide "PAGE BREAK" text label but keep visual separator line */
      .hide-page-break-labels .page-break::after {
        display: none !important;
        content: none !important;
      }
      
      /* Keep page break visual separator in print preview */
      .hide-page-break-labels .page-break {
        border-bottom: 2px dashed #ccc !important;
        margin: 2rem 0 !important;
        height: auto !important;
      }
      
      /* Force light theme in print mode */
      .print-mode {
        background-color: white !important;
        color: #1a1a1a !important;
      }
      .print-mode * {
        color: inherit;
      }
      .print-mode pre {
        background-color: #f5f5f5 !important;
      }
      .print-mode code {
        background-color: #f0f0f0 !important;
        color: #333 !important;
      }
      .print-mode table {
        border-color: #ddd !important;
      }
      .print-mode th {
        background-color: #f5f5f5 !important;
        color: #333 !important;
      }
      .print-mode td {
        border-color: #ddd !important;
        color: #333 !important;
      }

      /* Print styles to hide UI */
      @media print {
        .no-print { display: none !important; }
        .print-only { display: block !important; width: 100%; height: auto; overflow: visible; }
        body { background: white !important; color: black !important; }
        /* Reset padding for the markdown body in print mode, as it's handled by @page */
        .markdown-body { padding: 0 !important; background: white !important; }
        
        /* Ensure page break works in print */
        .page-break {
           border: none !important;
           margin: 0 !important;
        }
        .page-break::after {
           display: none !important;
        }
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.554.0",
    "remark-gfm": "https://aistudiocdn.com/remark-gfm@^4.0.1",
    "react-markdown": "https://aistudiocdn.com/react-markdown@^10.1.0",
    "rehype-katex": "https://aistudiocdn.com/rehype-katex@^7.0.1",
    "remark-math": "https://aistudiocdn.com/remark-math@^6.0.0",
    "rehype-raw": "https://aistudiocdn.com/rehype-raw@^7.0.0",
    "rehype-highlight": "https://aistudiocdn.com/rehype-highlight@^7.0.2",
    "mermaid": "https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.esm.min.mjs",
    "highlight.js": "https://aistudiocdn.com/highlight.js@^11.9.0",
    "katex": "https://aistudiocdn.com/katex@^0.16.9"
  }
}
</script>
</head>
  <body class="overflow-hidden bg-white dark:bg-notion-bg transition-colors duration-200">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>